<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Model Latent Infections — epiinf • epidemia</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Model Latent Infections — epiinf" />
<meta property="og:description" content="epiinf defines a model for latent infections.
For the basic version of the model, this defines the generation distribution of the disease, the number of days for which to seed infections, and the prior distribution on the parameter \(\tau\),
as described in the model description vignette. Recall that \(\tau\) is the prior mean on daily seeded infections. These three parameters are controlled by the arguments gen, seed_days and prior_tau respectively." />
<meta property="og:image" content="https://imperialcollegelondon.github.io/epidemia/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS_CHTML.js" crossorigin="anonymous"></script>
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-186908163-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-186908163-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epidemia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/install.html">Install</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Model
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model-description.html">Description</a>
    </li>
    <li>
      <a href="../articles/model-implementation.html">Implementation</a>
    </li>
    <li>
      <a href="../articles/partial-pooling.html">Partial Pooling</a>
    </li>
    <li>
      <a href="../articles/priors.html">Priors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/flu.html">A Basic Example</a>
    </li>
    <li>
      <a href="../articles/europe-covid.html">A Multilevel Model</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ImperialCollegeLondon/epidemia/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Model Latent Infections</h1>
    <small class="dont-index">Source: <a href='https://github.com/ImperialCollegeLondon/epidemia/blob/master/R/epiinf.R'><code>R/epiinf.R</code></a></small>
    <div class="hidden name"><code>epiinf.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>epiinf</code> defines a model for latent infections.
For the basic version of the model, this defines the generation distribution of the disease, the number of days for which to seed infections, and the prior distribution on the parameter \(\tau\),
as described in the <a href='https://imperialcollegelondon.github.io/epidemia/articles/model-description.html'>model description</a> vignette. Recall that \(\tau\) is the prior mean on daily seeded infections. These three parameters are controlled by the arguments gen, seed_days and prior_tau respectively.</p>
    </div>

    <pre class="usage"><span class='fu'>epiinf</span>(
  <span class='no'>gen</span>,
  <span class='kw'>seed_days</span> <span class='kw'>=</span> <span class='fl'>6L</span>,
  <span class='kw'>latent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"log-normal"</span>,
  <span class='kw'>prior_aux</span> <span class='kw'>=</span> <span class='kw pkg'>rstanarm</span><span class='kw ns'>::</span><span class='fu'><a href='https://mc-stan.org/rstanarm/reference/priors.html'>normal</a></span>(<span class='fl'>10</span>, <span class='fl'>5</span>),
  <span class='kw'>prior_tau</span> <span class='kw'>=</span> <span class='kw pkg'>rstanarm</span><span class='kw ns'>::</span><span class='fu'><a href='https://mc-stan.org/rstanarm/reference/priors.html'>exponential</a></span>(<span class='fl'>0.03</span>),
  <span class='kw'>pop_adjust</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>susceptibles</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>gen</th>
      <td><p>A numeric vector representing the probability mass function for the generation time of the disease (must be a
probability vector).</p></td>
    </tr>
    <tr>
      <th>seed_days</th>
      <td><p>An integer giving the number of days for which to seed infections. Defaults to <code>6L</code>.</p></td>
    </tr>
    <tr>
      <th>latent</th>
      <td><p>If <code>TRUE</code>, treat infections as latent parameters using the extensions described in Section 5.2 <a href='https://imperialcollegelondon.github.io/epidemia/articles/model-description.html'>here</a>.</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>Specifies the family for the prior distribution on daily infections. Only used if <code>latent = TRUE</code>, and currently restricted to <code>log-normal</code>.</p></td>
    </tr>
    <tr>
      <th>prior_aux</th>
      <td><p>Prior distribution for the coefficient of dispersion \(d\) for
the offspring distribution. Only used if <code>latent = TRUE</code>. The number of
offspring of a given infection is assumed to have mean \(\mu\) and variance \(d \mu\).
This argument specifies prior on \(d\). Higher values of \(d\) imply more
super-spreading events.</p></td>
    </tr>
    <tr>
      <th>prior_tau</th>
      <td><p>The prior distribution for the hyperparameter \(\tau\), which is the mean of the
prior distribution for infection seeding. Must be a call to
<code><a href='https://mc-stan.org/rstanarm/reference/priors.html'>exponential</a></code>. Defaults to <code><a href='https://mc-stan.org/rstanarm/reference/priors.html'>rstanarm::exponential(0.03)</a></code>. See the
<a href='https://imperialcollegelondon.github.io/epidemia/articles/model-description.html'>model description</a> for
more details on this parameter.</p></td>
    </tr>
    <tr>
      <th>pop_adjust</th>
      <td><p>If <code>TRUE</code>, applies a population adjustment to the infection process. Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>susceptibles</th>
      <td><p>A character vector giving the name of the column in the dataframe
passed as the <code>data</code> argument of <code><a href='epim.html'>epim</a></code>, that corresponds to the susceptible population over time.
Only used if <code>pop_adjust=TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>epiinf</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>epiinf</code> has additional arguments which allow the user to extend the basic model.
Using <code>latent=TRUE</code> replaces the renewal process with a model that treats latent infections as unknown parameters that are sampled along with other parameters. The <code>family</code> argument then gives the distribution family for
latent infections, while <code>prior_aux</code> defines the prior on the coefficient of dispersion \(d\) of this distribution.</p>
<p>Recall that one can adjust the infection process to explicitly model changes in infection rates as the remaining susceptible population is depleted.
In particular, the adjustment ensures that cumulative infections never breaches the initial susceptible population.
The adjustment was described in Section 5.3 of the <a href='https://imperialcollegelondon.github.io/epidemia/articles/model-description.html'>model description</a> article.
It can be employed by setting <code>pop_adjust = TRUE</code> and using the <code>susceptibles</code> argument to point towards a variable in the dataframe which gives the susceptible population at each point in time.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>EuropeCovid</span>)
<span class='no'>inf</span> <span class='kw'>&lt;-</span> <span class='fu'>epiinf</span>(
 <span class='kw'>gen</span> <span class='kw'>=</span> <span class='no'>EuropeCovid</span>$<span class='no'>si</span>,
 <span class='kw'>seed_days</span> <span class='kw'>=</span> <span class='fl'>6L</span>,
 <span class='kw'>prior_tau</span> <span class='kw'>=</span> <span class='kw pkg'>rstanarm</span><span class='kw ns'>::</span><span class='fu'><a href='https://mc-stan.org/rstanarm/reference/priors.html'>exponential</a></span>(<span class='fl'>0.02</span>)
)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by James Scott, Axel Gandy, Swapnil Mishra, Juliette Unwin, Seth Flaxman, Samir Bhatt.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


